<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
</head>
<body>

<script>

var socket;
var log;

function openConnection() {
  socket = new WebSocket('ws://localhost:5080/signalling/ws');
  log = document.getElementById('log');

  socket.onopen = function() {
    log.innerHTML += 'connection established <br/>';
  };

  socket.onclose = function(event) {
    if (event.wasClean) {
      log.innerHTML += 'connection closed clearly <br/>';
    } else {
      log.innerHTML += 'connection broke <br/>';
    }

    log.innerHTML += 'code: ' + event.code + ' cause: ' + event.reason + '<br/>';
  };

  socket.onmessage = function(event) {
    log.innerHTML += 'data received ' + event.data + '<br/>';
  };

  socket.onerror = function(error) {
    log.innerHTML += 'error ' + error.message + '<br/>';
  };
}

function sendData() {
  log.innerHTML += 'we send ' + document.getElementById('Data').value + '<br/>';
  socket.send(document.getElementById('Data').value);
}

</script>

<p align="center">

<button type="button" onclick="openConnection()">open connection</button>

<br/>
<br/>

Data: <input type="text" id="Data" value="Insert your data here"/>
<button type="button" onclick="sendData()">send data</button>

<p id="log"></p>
</p>

</body>
</html>
